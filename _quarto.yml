project:
  type: book
  output-dir: _output
  post-render:
    - "bash scripts/post-render.sh"

metadata-files:
  - book-links.yml
  - tactus-target.yml

filters:
  - filters/include-code.lua

book:
  title: "Tactus in a Nutshell"
  subtitle: "A Desktop Quick Reference"
  author: "Ryan Porter"
  date: today
  chapters:
    - index.qmd
    - part: "I. Language Essentials"
      chapters:
        - chapters/01-syntax-reference.qmd
        - chapters/02-types-and-schemas.qmd
        - chapters/03-templates-and-prompting.qmd
        - chapters/04-primitives-reference.qmd
    - part: "II. Tools & Capabilities"
      chapters:
        - chapters/05-configuration-reference.qmd
        - chapters/06-tools-and-toolsets.qmd
        - chapters/07-files-and-data-io.qmd
        - chapters/08-sandboxing-and-security.qmd
    - part: "III. Orchestration & Reliability"
      chapters:
        - chapters/09-durable-execution-patterns.qmd
        - chapters/10-state-and-stages.qmd
        - chapters/11-human-in-the-loop.qmd
    - part: "IV. Testing & Operations"
      chapters:
        - chapters/12-bdd-step-reference.qmd
        - chapters/13-evaluations-reference.qmd
        - chapters/14-cli-reference.qmd
        - chapters/15-tracing-and-debugging.qmd
    - part: "V. Cookbook"
      chapters:
        - chapters/16-common-patterns.qmd
        - chapters/17-troubleshooting.qmd
        - chapters/18-migration-guide.qmd

format:
  html:
    theme: cosmo
    code-copy: true
    code-overflow: wrap
    css: simple-style.css
  pdf:
    documentclass: scrbook
    papersize: letter
    fontsize: 10pt
    include-in-header:
      text: |
        \usepackage{fvextra}
        \DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
        \usepackage{graphicx}
        \usepackage{libertinus}
        \usepackage{tikz}
        \usepackage{xcolor}
        \definecolor{magenta}{RGB}{199,0,126}
        \renewcommand{\maketitle}{}
    include-before-body:
      file: title-page.tex

highlight-style: github
